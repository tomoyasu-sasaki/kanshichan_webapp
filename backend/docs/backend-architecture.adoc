= ğŸ—ï¸ ç›£è¦–ã¡ã‚ƒã‚“(KanshiChan) ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
:toc: left
:toc-title: ç›®æ¬¡
:toclevels: 4
:numbered:
:source-highlighter: highlight.js
:icons: font
:doctype: book
:version: 2.0.0
:author: KanshiChan Development Team
:email: team@kanshichan.dev
:revnumber: 2.0
:revdate: {docdate}
:experimental:

== ğŸ“– æ¦‚è¦

ç›£è¦–ã¡ã‚ƒã‚“ï¼ˆKanshiChanï¼‰ã¯ã€AIæŠ€è¡“ã‚’æ´»ç”¨ã—ãŸãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ä½œæ¥­é›†ä¸­æ”¯æ´ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚
ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã®åŒ…æ‹¬çš„ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆã€è¨­è¨ˆæ€æƒ³ã€æŠ€è¡“çš„è©³ç´°ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚

[NOTE]
====
ğŸ“‹ **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæƒ…å ±**

* **å¯¾è±¡èª­è€…**: ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã€ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ãƒªãƒ¼ãƒ‰ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼
* **æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: Python 3.9+ / Flask 2.3+ / PyTorch / OpenCV / MediaPipe
* **ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v2.0.0 (AIæœ€é©åŒ–ãƒ»å›½éš›åŒ–å¯¾å¿œãƒ»TTSçµ±åˆç‰ˆ)
* **æœ€çµ‚æ›´æ–°**: {docdate}
====

== ğŸ¯ ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

=== ğŸ’¡ ãƒ“ã‚¸ãƒ§ãƒ³ã¨ç›®çš„

==== ãƒ“ã‚¸ãƒ§ãƒ³
ã€ŒAIã®åŠ›ã§äººã€…ã®é›†ä¸­åŠ›ã‚’å‘ä¸Šã•ã›ã€ã‚ˆã‚Šè‰¯ã„ä½œæ¥­ç’°å¢ƒã‚’æä¾›ã™ã‚‹ã€

==== ã‚·ã‚¹ãƒ†ãƒ ç›®çš„
* **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–**: Webã‚«ãƒ¡ãƒ©ã‚’é€šã˜ãŸç¶™ç¶šçš„ãªçŠ¶æ³æŠŠæ¡
* **ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆåˆ†æ**: AI/MLã«ã‚ˆã‚‹è¡Œå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æã¨æ´å¯Ÿç”Ÿæˆ
* **é©å¿œçš„ã‚¢ãƒ©ãƒ¼ãƒˆ**: å€‹äººç‰¹æ€§ã«å¿œã˜ãŸæœ€é©ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã®é€šçŸ¥
* **ãƒ‡ãƒ¼ã‚¿ãƒ‰ãƒªãƒ–ãƒ³**: è“„ç©ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ã®å­¦ç¿’ã¨æ”¹å–„ææ¡ˆ
* **å¤šè¨€èªå¯¾å¿œ**: å›½éš›çš„ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ™ãƒ¼ã‚¹ã¸ã®å¯¾å¿œ

=== ğŸ›ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åŸå‰‡

==== è¨­è¨ˆåŸå‰‡
[cols="2,5", options="header"]
|===
|åŸå‰‡ |è©³ç´°
|**ğŸ” ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§** |ä½é…å»¶ã§ã®ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (< 100ms)
|**ğŸ§  ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ã‚¹** |AI/MLã«ã‚ˆã‚‹é©å¿œå­¦ç¿’ã¨å€‹äººåŒ–
|**ğŸ”§ æ‹¡å¼µæ€§** |æ°´å¹³ãƒ»å‚ç›´ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã«å¯¾å¿œã—ãŸè¨­è¨ˆ
|**ğŸ›¡ï¸ å …ç‰¢æ€§** |ãƒ•ã‚©ãƒ«ãƒˆãƒˆãƒ¬ãƒ©ãƒ³ãƒˆè¨­è¨ˆã¨ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
|**ğŸ“Š è¦³æ¸¬æ€§** |åŒ…æ‹¬çš„ãªãƒ­ã‚°ãƒ»ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãƒ»ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°
|**ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£** |ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·ã¨ãƒ‡ãƒ¼ã‚¿ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
|**ğŸŒ å›½éš›åŒ–** |å¤šè¨€èªãƒ»å¤šæ–‡åŒ–å¯¾å¿œã®ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­è¨ˆ
|===

==== å“è³ªå±æ€§
* **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: 15 FPSä»¥ä¸Šã§ã®å®‰å®šã—ãŸæ¤œå‡ºå‡¦ç†
* **å¯ç”¨æ€§**: 99.9%ä»¥ä¸Šã®ã‚¢ãƒƒãƒ—ã‚¿ã‚¤ãƒ 
* **ä¿å®ˆæ€§**: ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆã«ã‚ˆã‚‹é«˜ã„ä¿å®ˆæ€§
* **ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£**: åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ (80%+)

== ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

=== ğŸ“ å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

[mermaid]
....
graph TB
    %% å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ 
    subgraph "ğŸŒ External Systems"
        C[Web Camera]
        LINE[LINE API]
        LLM[LLM Services<br/>OpenAI/Ollama]
        TTS_EXT[External TTS<br/>Zonos API]
    end
    
    %% ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤
    subgraph "ğŸ–¥ï¸ Presentation Layer"
        WEB[Web Frontend<br/>React/TypeScript]
        API[REST API<br/>Flask Routes]
        WS[WebSocket API<br/>SocketIO]
    end
    
    %% ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤
    subgraph "âš™ï¸ Application Layer"
        MON[Monitor<br/>çµ±åˆç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ]
        DET[Detector<br/>AIæ¤œå‡ºã‚¨ãƒ³ã‚¸ãƒ³]
        ALT[AlertManager<br/>é€šçŸ¥ç®¡ç†]
        SCH[ScheduleManager<br/>ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†]
        ANA[BehaviorAnalyzer<br/>è¡Œå‹•åˆ†æ]
    end
    
    %% ã‚µãƒ¼ãƒ“ã‚¹å±¤
    subgraph "ğŸ”§ Service Layer"
        direction LR
        subgraph "ğŸ¤– AI/ML Services"
            OBJ[ObjectDetector<br/>ç‰©ä½“æ¤œå‡º]
            VIS[Vision Pipeline<br/>æ˜ åƒå‡¦ç†]
            BEH[Behavior Analysis<br/>è¡Œå‹•åˆ†æ]
        end
        
        subgraph "ğŸ”” Communication"
            TTS[TTS Service<br/>éŸ³å£°åˆæˆ]
            VOICE[Voice Manager<br/>éŸ³å£°ç®¡ç†]
            NOTIF[Notification<br/>é€šçŸ¥é…ä¿¡]
        end
        
        subgraph "ğŸ“Š Data Services"
            COLLECT[Data Collector<br/>ãƒ‡ãƒ¼ã‚¿åé›†]
            STORE[Storage Service<br/>ãƒ‡ãƒ¼ã‚¿ä¿å­˜]
            STREAM[Streaming Processor<br/>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‡¦ç†]
        end
        
        subgraph "ğŸ›ï¸ Management"
            PERF[Performance Monitor<br/>æ€§èƒ½ç›£è¦–]
            CONFIG[Config Manager<br/>è¨­å®šç®¡ç†]
            MEM[Memory Manager<br/>ãƒ¡ãƒ¢ãƒªç®¡ç†]
        end
    end
    
    %% ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£å±¤
    subgraph "ğŸ­ Infrastructure Layer"
        subgraph "ğŸ’¾ Data Store"
            DB[(SQLite Database)]
            FILES[File System<br/>éŸ³å£°/ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«]
        end
        
        subgraph "ğŸš€ Runtime"
            FLASK[Flask Application<br/>Gunicorn/uWSGI]
            TORCH[PyTorch Runtime<br/>CPU/GPU]
            CV[OpenCV Pipeline<br/>MediaPipe]
        end
    end
    
    %% ã‚³ã‚¢å±¤
    subgraph "ğŸ¯ Core Layer"
        CAM[Camera Manager<br/>ã‚«ãƒ¡ãƒ©åˆ¶å¾¡]
        STATE[State Manager<br/>çŠ¶æ…‹ç®¡ç†]
        FRAME[Frame Processor<br/>ãƒ•ãƒ¬ãƒ¼ãƒ å‡¦ç†]
        DETECT[Detection Manager<br/>æ¤œå‡ºç®¡ç†]
    end
    
    %% æ¥ç¶šé–¢ä¿‚
    WEB <--> API
    WEB <--> WS
    API --> MON
    WS --> MON
    
    MON --> DET
    MON --> ALT
    MON --> SCH
    MON --> ANA
    
    DET --> OBJ
    DET --> VIS
    ALT --> TTS
    ALT --> NOTIF
    ANA --> BEH
    
    OBJ --> CAM
    VIS --> FRAME
    BEH --> COLLECT
    
    COLLECT --> DB
    STORE --> FILES
    STREAM --> WS
    
    CAM --> C
    TTS --> TTS_EXT
    NOTIF --> LINE
    BEH --> LLM
    
    %% ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
    classDef external fill:#ffe6e6,stroke:#ff4444
    classDef presentation fill:#e6f3ff,stroke:#4488ff
    classDef application fill:#e6ffe6,stroke:#44aa44
    classDef service fill:#fff3e6,stroke:#ff8844
    classDef infrastructure fill:#f3e6ff,stroke:#8844ff
    classDef core fill:#fffce6,stroke:#ccaa44
    
    class C,LINE,LLM,TTS_EXT external
    class WEB,API,WS presentation
    class MON,DET,ALT,SCH,ANA application
    class OBJ,VIS,BEH,TTS,VOICE,NOTIF,COLLECT,STORE,STREAM,PERF,CONFIG,MEM service
    class DB,FILES,FLASK,TORCH,CV infrastructure
    class CAM,STATE,FRAME,DETECT core
....

=== ğŸ¨ ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

==== ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹æˆ
[cols="1,2,4", options="header"]
|===
|ãƒ¬ã‚¤ãƒ¤ãƒ¼ |è²¬å‹™ |ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
|**ğŸ–¥ï¸ Presentation** |UIãƒ»API |React Frontend, REST API, WebSocket API
|**âš™ï¸ Application** |ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ |Monitor, Detector, AlertManager, ScheduleManager
|**ğŸ”§ Service** |ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹ |AI/ML Services, Communication, Data Services
|**ğŸ­ Infrastructure** |æŠ€è¡“åŸºç›¤ |Database, File System, Runtime Environment
|**ğŸ¯ Core** |ä¸­æ ¸æ©Ÿèƒ½ |Camera, State, Frame Processing, Detection
|===

==== ä¾å­˜é–¢ä¿‚ãƒ«ãƒ¼ãƒ«
* **ä¸Šä½å±¤ â†’ ä¸‹ä½å±¤**: è¨±å¯ã•ã‚ŒãŸä¾å­˜é–¢ä¿‚
* **ä¸‹ä½å±¤ â†’ ä¸Šä½å±¤**: ç¦æ­¢ï¼ˆä¾å­˜æ€§é€†è»¢ã®åŸå‰‡ï¼‰
* **åŒä¸€å±¤å†…**: ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’é€šã˜ãŸç–çµåˆ

== ğŸ¯ ã‚³ã‚¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

=== ğŸ“¹ ã‚«ãƒ¡ãƒ©ãƒ»æ˜ åƒå‡¦ç†ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

[mermaid]
....
graph LR
    subgraph "ğŸ“¹ Camera Layer"
        CAM[Camera Manager]
        FRAME[Frame Processor]
    end
    
    subgraph "ğŸ¤– AI Detection"
        YOLO[YOLO v8<br/>ç‰©ä½“æ¤œå‡º]
        MP[MediaPipe<br/>å§¿å‹¢æ¤œå‡º]
        OPT[AI Optimizer<br/>å‹•çš„æœ€é©åŒ–]
    end
    
    subgraph "ğŸ§  Intelligence"
        SMOOTH[Detection Smoother<br/>æ¤œå‡ºå¹³æ»‘åŒ–]
        RENDER[Detection Renderer<br/>æç”»å‡¦ç†]
        THRESH[Threshold Manager<br/>é–¾å€¤ç®¡ç†]
    end
    
    subgraph "ğŸ“Š Processing"
        STATE[State Manager<br/>çŠ¶æ…‹ç®¡ç†]
        BROAD[Status Broadcaster<br/>çŠ¶æ…‹é…ä¿¡]
        MEM[Memory Manager<br/>ãƒ¡ãƒ¢ãƒªç®¡ç†]
    end
    
    %% ãƒ•ãƒ­ãƒ¼
    CAM --> FRAME
    FRAME --> YOLO
    FRAME --> MP
    YOLO --> SMOOTH
    MP --> SMOOTH
    SMOOTH --> RENDER
    SMOOTH --> STATE
    THRESH --> SMOOTH
    OPT --> YOLO
    OPT --> MP
    STATE --> BROAD
    MEM --> FRAME
    MEM --> YOLO
    
    %% ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
    classDef camera fill:#e6f3ff
    classDef ai fill:#ffe6f3
    classDef intelligence fill:#f3ffe6
    classDef processing fill:#fff3e6
    
    class CAM,FRAME camera
    class YOLO,MP,OPT ai
    class SMOOTH,RENDER,THRESH intelligence
    class STATE,BROAD,MEM processing
....

=== âš™ï¸ ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

[mermaid]
....
sequenceDiagram
    participant C as Camera
    participant F as Frame Processor
    participant D as Detector
    participant S as State Manager
    participant A as Alert Manager
    participant W as WebSocket
    participant DB as Database
    
    Note over C,DB: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ãƒ•ãƒ­ãƒ¼
    
    loop ç›£è¦–ãƒ«ãƒ¼ãƒ— (15 FPS)
        C->>F: ãƒ•ãƒ¬ãƒ¼ãƒ å–å¾—
        F->>F: å‰å‡¦ç†ãƒ»æœ€é©åŒ–
        F->>D: æ¤œå‡ºå®Ÿè¡Œ
        D->>D: YOLO + MediaPipe
        D->>S: æ¤œå‡ºçµæœ
        S->>S: çŠ¶æ…‹æ›´æ–°ãƒ»åˆ†æ
        
        alt çŠ¶æ…‹å¤‰åŒ–ã‚ã‚Š
            S->>A: ã‚¢ãƒ©ãƒ¼ãƒˆåˆ¤å®š
            A->>A: é€šçŸ¥ç”Ÿæˆ
            A->>W: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é…ä¿¡
            S->>DB: ãƒ‡ãƒ¼ã‚¿ä¿å­˜
        end
        
        S->>W: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹é…ä¿¡
    end
....

== ğŸ”§ ã‚µãƒ¼ãƒ“ã‚¹å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

=== ğŸ¤– AI/MLã‚µãƒ¼ãƒ“ã‚¹

==== AIæœ€é©åŒ–æˆ¦ç•¥
[mermaid]
....
graph TD
    subgraph "ğŸ›ï¸ Dynamic Optimization"
        PERF[Performance Monitor]
        LOAD[Load Balancer]
        SCALE[Auto Scaler]
    end
    
    subgraph "ğŸ§  Model Management"
        YOLO[YOLO v8 Model]
        MP[MediaPipe Model]
        CACHE[Model Cache]
    end
    
    subgraph "âš¡ Processing Pipeline"
        PREP[Frame Preprocessing]
        INFER[Inference Engine]
        POST[Post Processing]
    end
    
    subgraph "ğŸ“Š Resource Management"
        GPU[GPU Memory Pool]
        CPU[CPU Thread Pool]
        MEM[Memory Manager]
    end
    
    PERF --> LOAD
    LOAD --> SCALE
    SCALE --> GPU
    SCALE --> CPU
    
    YOLO --> CACHE
    MP --> CACHE
    CACHE --> INFER
    
    PREP --> INFER
    INFER --> POST
    
    MEM --> PREP
    MEM --> INFER
    GPU --> INFER
    CPU --> PREP
....

==== æ¤œå‡ºç²¾åº¦æœ€é©åŒ–
* **å‹•çš„é–¾å€¤èª¿æ•´**: ç’°å¢ƒæ¡ä»¶ã«å¿œã˜ãŸè‡ªå‹•é–¾å€¤èª¿æ•´
* **è¤‡æ•°ãƒ¢ãƒ‡ãƒ«çµ±åˆ**: YOLO + MediaPipeã®çµæœçµ±åˆ
* **æ™‚ç³»åˆ—å¹³æ»‘åŒ–**: æ¤œå‡ºçµæœã®æ™‚ç³»åˆ—å¹³æ»‘åŒ–
* **ä¿¡é ¼åº¦ãƒ™ãƒ¼ã‚¹**: ä¿¡é ¼åº¦ã‚¹ã‚³ã‚¢ã«ã‚ˆã‚‹é©å¿œçš„åˆ¤å®š

=== ğŸ”” é€šä¿¡ãƒ»é€šçŸ¥ã‚µãƒ¼ãƒ“ã‚¹

[mermaid]
....
graph TB
    subgraph "ğŸ”” Notification Engine"
        ALERT[Alert Manager]
        RULE[Alert Rules]
        SUPPRESS[Suppression Engine]
    end
    
    subgraph "ğŸ”Š TTS System"
        TTS[TTS Service]
        VOICE[Voice Manager] 
        ZONOS[Zonos TTS API]
        CACHE[Audio Cache]
    end
    
    subgraph "ğŸ“± External Integration"
        LINE[LINE Notify]
        WS[WebSocket Live]
        API[REST API]
    end
    
    subgraph "ğŸ¯ Personalization"
        PROFILE[User Profile]
        ADAPT[Adaptive Engine]
        TIMING[Optimal Timing]
    end
    
    ALERT --> RULE
    RULE --> SUPPRESS
    SUPPRESS --> TTS
    SUPPRESS --> LINE
    SUPPRESS --> WS
    
    TTS --> VOICE
    VOICE --> ZONOS
    VOICE --> CACHE
    
    PROFILE --> ADAPT
    ADAPT --> TIMING
    TIMING --> RULE
....

==== TTSéŸ³å£°åˆæˆ
* **å¤šè¨€èªå¯¾å¿œ**: æ—¥æœ¬èªãƒ»è‹±èªã®è‡ªç„¶ãªéŸ³å£°åˆæˆ
* **æ„Ÿæƒ…è¡¨ç¾**: çŠ¶æ³ã«å¿œã˜ãŸæ„Ÿæƒ…ã‚’è¾¼ã‚ãŸéŸ³å£°
* **ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ€é©åŒ–**: é »ç”¨ãƒ•ãƒ¬ãƒ¼ã‚ºã®äº‹å‰ç”Ÿæˆãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥
* **å“è³ªåˆ¶å¾¡**: éŸ³å£°å“è³ªã¨ç”Ÿæˆé€Ÿåº¦ã®ãƒãƒ©ãƒ³ã‚¹

=== ğŸ“Š ãƒ‡ãƒ¼ã‚¿ã‚µãƒ¼ãƒ“ã‚¹

[mermaid]
....
graph LR
    subgraph "ğŸ“¥ Data Collection"
        COLLECT[Data Collector]
        VALID[Data Validator]
        ENRICH[Data Enricher]
    end
    
    subgraph "ğŸ’¾ Data Storage"
        STORE[Storage Service]
        ARCHIVE[Archive Manager]
        BACKUP[Backup Service]
    end
    
    subgraph "ğŸ”„ Data Processing"
        STREAM[Streaming Processor]
        BATCH[Batch Processor]
        REAL[Real-time Analyzer]
    end
    
    subgraph "ğŸ§  Data Intelligence"
        BEHAVIOR[Behavior Analyzer]
        INSIGHTS[Insights Generator]
        PREDICT[Predictive Models]
    end
    
    COLLECT --> VALID
    VALID --> ENRICH
    ENRICH --> STORE
    STORE --> ARCHIVE
    STORE --> BACKUP
    
    ENRICH --> STREAM
    STREAM --> REAL
    REAL --> BEHAVIOR
    BEHAVIOR --> INSIGHTS
    INSIGHTS --> PREDICT
....

==== ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼æˆ¦ç•¥
* **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åé›†**: 2ç§’é–“éš”ã§ã®ç¶™ç¶šçš„ãƒ‡ãƒ¼ã‚¿åé›†
* **ã‚¹ãƒãƒ¼ãƒˆåœ§ç¸®**: ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒ‡ãƒ¼ã‚¿ã®åŠ¹ç‡çš„åœ§ç¸®
* **ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·**: å€‹äººæƒ…å ±ã®é©åˆ‡ãªåŒ¿ååŒ–ãƒ»æš—å·åŒ–
* **ãƒ‡ãƒ¼ã‚¿å“è³ª**: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¨ãƒ³ãƒªãƒƒãƒãƒ¡ãƒ³ãƒˆ

== ğŸš€ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯è©³ç´°

=== ğŸ“š ã‚³ã‚¢æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

[cols="2,3,4", options="header"]
|===
|ã‚«ãƒ†ã‚´ãƒª |æŠ€è¡“ |ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒ»è©³ç´°
|**ğŸ Backend Framework** |Flask |v2.3.3 + Flask-SocketIO v5.5.1
|**ğŸ¤– AI/ML Libraries** |PyTorch |v2.5.1 (GPUå¯¾å¿œ)
| |OpenCV |v4.11 (æ˜ åƒå‡¦ç†)
| |MediaPipe |v0.10.21 (å§¿å‹¢æ¤œå‡º)
| |YOLOv8 |Ultralytics v8.3.87
|**ğŸ”Š Audio/TTS** |Zonos TTS |Zyphra/Zonos-v0.1-transformer
| |PyAudio |éŸ³å£°å†ç”Ÿãƒ»éŒ²éŸ³
|**ğŸ’¾ Database** |SQLite |è»½é‡ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹
|**ğŸŒ Communication** |Socket.IO |ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡
| |LINE Notify |å¤–éƒ¨é€šçŸ¥é€£æº
|**ğŸ”§ Utilities** |psutil |ã‚·ã‚¹ãƒ†ãƒ ãƒªã‚½ãƒ¼ã‚¹ç›£è¦–
| |NumPy |ç§‘å­¦è¨ˆç®—ãƒ»è¡Œåˆ—æ¼”ç®—
| |Pillow |ç”»åƒå‡¦ç†
|===

=== ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³

==== æ¡ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³
[cols="2,4", options="header"]
|===
|ãƒ‘ã‚¿ãƒ¼ãƒ³ |èª¬æ˜ãƒ»åˆ©ç‚¹
|**ğŸ­ Dependency Injection** |ConfigManagerã‚’ä¸­å¿ƒã¨ã—ãŸä¾å­˜æ€§æ³¨å…¥ã€ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£å‘ä¸Š
|**ğŸ“Š Observer Pattern** |çŠ¶æ…‹å¤‰åŒ–ã®é€šçŸ¥ãƒ»ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¤ãƒ™ãƒ³ãƒˆé…ä¿¡
|**ğŸ”„ Strategy Pattern** |æ¤œå‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãƒ»é€šçŸ¥æˆ¦ç•¥ã®å‹•çš„åˆ‡ã‚Šæ›¿ãˆ
|**ğŸ¯ Singleton Pattern** |ConfigManagerãƒ»StateManagerã®ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ç®¡ç†
|**ğŸ—ï¸ Builder Pattern** |è¤‡é›‘ãªè¨­å®šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ®µéšçš„æ§‹ç¯‰
|**ğŸ”— Chain of Responsibility** |ã‚¢ãƒ©ãƒ¼ãƒˆå‡¦ç†ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®é€£é–
|===

==== ä¸¦è¡Œæ€§ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
* **ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰**: Flask APIãƒ»WebSocketå‡¦ç†
* **ç›£è¦–ã‚¹ãƒ¬ãƒƒãƒ‰**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ãƒ«ãƒ¼ãƒ— (15 FPS)
* **åˆ†æã‚¹ãƒ¬ãƒƒãƒ‰**: å®šæœŸçš„è¡Œå‹•åˆ†æ (1æ™‚é–“é–“éš”)
* **éåŒæœŸå‡¦ç†**: I/Oé›†ç´„çš„å‡¦ç†ã®éåŒæœŸå®Ÿè¡Œ

== ğŸ“Š ãƒ‡ãƒ¼ã‚¿ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

=== ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

[mermaid]
....
erDiagram
    BehaviorLog ||--o{ AnalysisResult : generates
    BehaviorLog {
        id integer PK
        timestamp datetime
        person_detected boolean
        smartphone_detected boolean
        presence_status string
        posture_score float
        attention_level float
        created_at datetime
    }
    
    AnalysisResult {
        id integer PK
        analysis_type string
        timeframe string
        metrics json
        insights json
        recommendations json
        created_at datetime
    }
    
    UserProfile ||--o{ PersonalizationData : has
    UserProfile {
        id integer PK
        user_identifier string
        preferences json
        behavior_patterns json
        effectiveness_scores json
        created_at datetime
        updated_at datetime
    }
    
    PersonalizationData {
        id integer PK
        user_profile_id integer FK
        data_type string
        data_value json
        confidence_score float
        created_at datetime
    }
    
    ScheduleEvent ||--o{ AlertHistory : triggers
    ScheduleEvent {
        id integer PK
        name string
        start_time datetime
        end_time datetime
        event_type string
        settings json
        is_active boolean
    }
    
    AlertHistory {
        id integer PK
        alert_type string
        content string
        delivery_method string
        user_response string
        effectiveness_score float
        timestamp datetime
    }
....

=== ğŸ“ˆ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

[mermaid]
....
graph TD
    subgraph "ğŸ“¥ Data Sources"
        CAM[Camera Feed]
        USER[User Interaction]
        SYS[System Metrics]
        EXT[External APIs]
    end
    
    subgraph "ğŸ”„ Processing Pipeline"
        COLLECT[Data Collection]
        VALIDATE[Validation]
        ENRICH[Enrichment]
        NORMALIZE[Normalization]
    end
    
    subgraph "ğŸ’¾ Storage Layer"
        LIVE[Live Data<br/>Memory]
        TEMP[Temporary Storage<br/>SQLite]
        ARCHIVE[Archive<br/>Compressed Files]
    end
    
    subgraph "ğŸ§  Analytics Pipeline"
        REALTIME[Real-time Analysis]
        BATCH[Batch Processing]
        ML[ML Training]
        INSIGHTS[Insights Generation]
    end
    
    subgraph "ğŸ“Š Consumption"
        API[REST API]
        WS[WebSocket]
        NOTIF[Notifications]
        EXPORT[Data Export]
    end
    
    CAM --> COLLECT
    USER --> COLLECT
    SYS --> COLLECT
    EXT --> COLLECT
    
    COLLECT --> VALIDATE
    VALIDATE --> ENRICH
    ENRICH --> NORMALIZE
    
    NORMALIZE --> LIVE
    NORMALIZE --> TEMP
    TEMP --> ARCHIVE
    
    LIVE --> REALTIME
    TEMP --> BATCH
    ARCHIVE --> ML
    REALTIME --> INSIGHTS
    
    INSIGHTS --> API
    LIVE --> WS
    INSIGHTS --> NOTIF
    ARCHIVE --> EXPORT
....

==== ãƒ‡ãƒ¼ã‚¿ä¿æŒæˆ¦ç•¥
* **ãƒ©ã‚¤ãƒ–ãƒ‡ãƒ¼ã‚¿**: ãƒ¡ãƒ¢ãƒªå†…ã€ç›´è¿‘1æ™‚é–“
* **ä¸€æ™‚ä¿å­˜**: SQLiteã€ç›´è¿‘30æ—¥é–“
* **ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–**: åœ§ç¸®ãƒ•ã‚¡ã‚¤ãƒ«ã€90æ—¥é–“ä¿æŒ
* **çµ±è¨ˆãƒ‡ãƒ¼ã‚¿**: é›†ç´„ãƒ‡ãƒ¼ã‚¿ã€ç„¡æœŸé™ä¿æŒ

== ğŸ”§ è¨­å®šãƒ»æ§‹æˆç®¡ç†

=== âš™ï¸ ConfigManager ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

[mermaid]
....
graph TB
    subgraph "ğŸ“ Configuration Sources"
        YAML[config.yaml<br/>ãƒ¡ã‚¤ãƒ³è¨­å®š]
        ENV[Environment Variables<br/>ç’°å¢ƒå›ºæœ‰è¨­å®š]
        CLI[Command Line Args<br/>å®Ÿè¡Œæ™‚è¨­å®š]
        DEFAULT[Default Values<br/>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤]
    end
    
    subgraph "ğŸ”§ ConfigManager"
        LOADER[Config Loader]
        VALIDATOR[Validator]
        MERGER[Merger]
        CACHE[Config Cache]
    end
    
    subgraph "ğŸ¯ Configuration Categories"
        SYSTEM[System Config<br/>åŸºæœ¬è¨­å®š]
        AI[AI/ML Config<br/>ãƒ¢ãƒ‡ãƒ«è¨­å®š]
        ALERT[Alert Config<br/>é€šçŸ¥è¨­å®š]
        PERF[Performance Config<br/>æ€§èƒ½è¨­å®š]
    end
    
    subgraph "ğŸ“Š Runtime Management"
        HOT[Hot Reload<br/>å‹•çš„æ›´æ–°]
        MONITOR[Config Monitor<br/>å¤‰æ›´ç›£è¦–]
        BACKUP[Config Backup<br/>è¨­å®šãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—]
    end
    
    YAML --> LOADER
    ENV --> LOADER
    CLI --> LOADER
    DEFAULT --> LOADER
    
    LOADER --> VALIDATOR
    VALIDATOR --> MERGER
    MERGER --> CACHE
    
    CACHE --> SYSTEM
    CACHE --> AI
    CACHE --> ALERT
    CACHE --> PERF
    
    CACHE --> HOT
    HOT --> MONITOR
    MONITOR --> BACKUP
....

=== ğŸ›ï¸ è¨­å®šã‚«ãƒ†ã‚´ãƒª

==== ã‚·ã‚¹ãƒ†ãƒ è¨­å®š
```yaml
# åŸºæœ¬ã‚·ã‚¹ãƒ†ãƒ è¨­å®š
system:
  debug: false
  log_level: "INFO"
  max_threads: 8
  
server:
  host: "0.0.0.0"
  port: 8000
  cors_origins: ["http://localhost:3000"]
  
database:
  url: "sqlite:///data/kanshichan.db"
  echo: false
  pool_size: 10
```

==== AI/MLè¨­å®š
```yaml
# AIæœ€é©åŒ–è¨­å®š
ai_optimization:
  enabled: true
  target_fps: 15.0
  min_fps: 10.0
  gpu_memory_limit: 0.8
  cpu_cores: 4
  
detection:
  confidence_threshold: 0.5
  nms_threshold: 0.4
  max_detections: 10
  smoothing_factor: 0.3
```

== ğŸ›¡ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

=== ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ã‚¤ãƒ¤ãƒ¼

[mermaid]
....
graph TB
    subgraph "ğŸŒ Network Security"
        CORS[CORS Protection]
        RATE[Rate Limiting]
        SSL[TLS/SSL]
        FW[Firewall Rules]
    end
    
    subgraph "ğŸ” Application Security"
        AUTH[Authentication]
        AUTHZ[Authorization]
        SESSION[Session Management]
        CSRF[CSRF Protection]
    end
    
    subgraph "ğŸ’¾ Data Security"
        ENCRYPT[Data Encryption]
        HASH[Password Hashing]
        ANON[Data Anonymization]
        AUDIT[Audit Logging]
    end
    
    subgraph "ğŸ¥ Privacy Protection"
        LOCAL[Local Processing]
        NO_CLOUD[No Cloud Storage]
        GDPR[GDPR Compliance]
        CONSENT[User Consent]
    end
    
    subgraph "ğŸš¨ Threat Protection"
        DETECT[Threat Detection]
        PREVENT[Attack Prevention]
        MONITOR[Security Monitoring]
        RESPONSE[Incident Response]
    end
....

==== ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·æˆ¦ç•¥
* **ãƒ­ãƒ¼ã‚«ãƒ«å‡¦ç†**: æ˜ åƒãƒ‡ãƒ¼ã‚¿ã®ãƒ­ãƒ¼ã‚«ãƒ«å‡¦ç†ã®ã¿
* **ãƒ‡ãƒ¼ã‚¿æœ€å°åŒ–**: å¿…è¦æœ€å°é™ã®ãƒ‡ãƒ¼ã‚¿åé›†
* **é€æ˜æ€§**: ãƒ‡ãƒ¼ã‚¿åˆ©ç”¨ç›®çš„ã®æ˜ç¢ºåŒ–
* **ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ¶å¾¡**: ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½

== ğŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£

=== âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

[mermaid]
....
graph LR
    subgraph "ğŸ¯ Target Metrics"
        FPS[Target FPS: 15]
        LATENCY[Latency: <100ms]
        MEMORY[Memory: <2GB]
        CPU[CPU: <80%]
    end
    
    subgraph "âš¡ Optimization Strategies"
        GPU[GPU Acceleration]
        CACHE[Intelligent Caching]
        BATCH[Batch Processing]
        ASYNC[Async Processing]
    end
    
    subgraph "ğŸ“Š Monitoring"
        PERF[Performance Monitor]
        ALERT[Performance Alerts]
        AUTO[Auto Scaling]
        TUNE[Auto Tuning]
    end
    
    subgraph "ğŸ”„ Adaptive Control"
        LOAD[Load Balancing]
        THROTTLE[Dynamic Throttling]
        DEGRADE[Graceful Degradation]
        RECOVER[Auto Recovery]
    end
    
    FPS --> GPU
    LATENCY --> CACHE
    MEMORY --> BATCH
    CPU --> ASYNC
    
    GPU --> PERF
    CACHE --> PERF
    BATCH --> PERF
    ASYNC --> PERF
    
    PERF --> ALERT
    ALERT --> AUTO
    AUTO --> TUNE
    
    TUNE --> LOAD
    LOAD --> THROTTLE
    THROTTLE --> DEGRADE
    DEGRADE --> RECOVER
....

=== ğŸ“Š ç›£è¦–ãƒ»è¦³æ¸¬æ€§

==== ãƒ¡ãƒˆãƒªã‚¯ã‚¹åˆ†é¡
[cols="2,3,3", options="header"]
|===
|ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç¨®åˆ¥ |ä¸»è¦æŒ‡æ¨™ |åé›†é–“éš”
|**âš¡ Performance** |FPS, Latency, Throughput |ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ 
|**ğŸ’» System** |CPU, Memory, GPU Usage |30ç§’
|**ğŸ¯ Business** |Detection Accuracy, User Engagement |1åˆ†
|**ğŸ”’ Security** |Failed Attempts, Anomalies |ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ 
|**ğŸ“Š Application** |Error Rate, Response Time |ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ 
|===

==== ã‚¢ãƒ©ãƒ¼ãƒˆæˆ¦ç•¥
* **Critical**: ã‚·ã‚¹ãƒ†ãƒ åœæ­¢ãƒªã‚¹ã‚¯ (å³åº§ã«å¯¾å¿œ)
* **Warning**: æ€§èƒ½åŠ£åŒ– (30åˆ†ä»¥å†…ã«å¯¾å¿œ)
* **Info**: å‚¾å‘å¤‰åŒ– (å®šæœŸãƒ¬ãƒ“ãƒ¥ãƒ¼)

== ğŸ”® å°†æ¥æ‹¡å¼µæ€§

=== ğŸš€ ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£è¨­è¨ˆ

[mermaid]
....
graph TB
    subgraph "ğŸ“ˆ Vertical Scaling"
        MORE_CPU[More CPU Cores]
        MORE_RAM[More Memory]
        BETTER_GPU[Better GPU]
        FASTER_STORAGE[Faster Storage]
    end
    
    subgraph "ğŸ“Š Horizontal Scaling"
        MULTI_INSTANCE[Multiple Instances]
        LOAD_BALANCE[Load Balancing]
        MICROSERVICE[Microservice Split]
        CONTAINER[Containerization]
    end
    
    subgraph "ğŸŒ Distributed Architecture"
        EDGE[Edge Computing]
        CLOUD[Cloud Hybrid]
        CDN[Content Delivery]
        MESH[Service Mesh]
    end
    
    subgraph "ğŸ¤– AI Scaling"
        MODEL_PARALLEL[Model Parallelism]
        INFERENCE_POOL[Inference Pool]
        AUTO_ML[AutoML Pipeline]
        FEDERATED[Federated Learning]
    end
....

=== ğŸ”Œ æ‹¡å¼µãƒã‚¤ãƒ³ãƒˆ

==== ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ‹¡å¼µãƒã‚¤ãƒ³ãƒˆ
[cols="2,3,4", options="header"]
|===
|æ‹¡å¼µã‚«ãƒ†ã‚´ãƒª |æ‹¡å¼µãƒã‚¤ãƒ³ãƒˆ |å®Ÿè£…æ–¹æ³•
|**ğŸ¤– AI/ML** |æ–°ã—ã„æ¤œå‡ºãƒ¢ãƒ‡ãƒ« |Strategy Patternã§ã®å‹•çš„åˆ‡ã‚Šæ›¿ãˆ
|**ğŸ”” é€šçŸ¥** |æ–°ã—ã„é€šçŸ¥ãƒãƒ£ãƒãƒ« |Plugin Architectureã§ã®è¿½åŠ 
|**ğŸ“Š åˆ†æ** |æ–°ã—ã„åˆ†æã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  |Analyzer Interfaceã®å®Ÿè£…
|**ğŸŒ UI** |æ–°ã—ã„ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ |REST APIãƒ»WebSocketçµŒç”±
|**ğŸ’¾ ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸** |æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ |Repository Patternã§ã®æŠ½è±¡åŒ–
|**ğŸ”§ ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³** |å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ é€£æº |Adapter Patternã§ã®çµ±åˆ
|===

== ğŸ¯ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ±ºå®šè¨˜éŒ² (ADR)

=== ğŸ“‹ ä¸»è¦ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ±ºå®š

==== ADR-001: Flask vs FastAPI
[cols="1,4", options="header"]
|===
|é …ç›® |å†…å®¹
|**æ±ºå®š** |Flask + SocketIOã‚’æ¡ç”¨
|**ç†ç”±** |â€¢ æˆç†Ÿã—ãŸã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ  +
â€¢ SocketIOã®å®‰å®šã—ãŸçµ±åˆ +
â€¢ ãƒãƒ¼ãƒ ã®ç¿’ç†Ÿåº¦
|**ä»£æ›¿æ¡ˆ** |FastAPI + WebSocket
|**ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•** |æ€§èƒ½ vs å®‰å®šæ€§ãƒ»ç¿’ç†Ÿåº¦
|===

==== ADR-002: SQLite vs PostgreSQL
[cols="1,4", options="header"]
|===
|é …ç›® |å†…å®¹
|**æ±ºå®š** |SQLiteã‚’æ¡ç”¨
|**ç†ç”±** |â€¢ è»½é‡ãƒ»ã‚¼ãƒ­è¨­å®š +
â€¢ ãƒ­ãƒ¼ã‚«ãƒ«å‡¦ç†é‡è¦– +
â€¢ é‹ç”¨ã‚³ã‚¹ãƒˆå‰Šæ¸›
|**ä»£æ›¿æ¡ˆ** |PostgreSQL, MySQL
|**ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•** |ã‚·ãƒ³ãƒ—ãƒ«ã• vs é«˜æ©Ÿèƒ½æ€§
|===

==== ADR-003: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ  vs ãƒãƒƒãƒå‡¦ç†
[cols="1,4", options="header"]
|===
|é …ç›® |å†…å®¹
|**æ±ºå®š** |ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‡¦ç†ã‚’ãƒ¡ã‚¤ãƒ³ã€åˆ†æã¯ãƒãƒƒãƒ
|**ç†ç”±** |â€¢ ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“é‡è¦– +
â€¢ å³åº§ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å¿…è¦ +
â€¢ åˆ†æã¯é…å»¶è¨±å®¹å¯èƒ½
|**ä»£æ›¿æ¡ˆ** |å®Œå…¨ãƒãƒƒãƒå‡¦ç†
|**ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•** |è¤‡é›‘æ€§ vs ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“
|===

=== ğŸ” æŠ€è¡“å‚µå‹™ã¨ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°è¨ˆç”»

==== ç¾åœ¨ã®æŠ€è¡“å‚µå‹™
[cols="2,3,2,2", options="header"]
|===
|å‚µå‹™é …ç›® |è©³ç´° |å½±éŸ¿ãƒ¬ãƒ™ãƒ« |å¯¾å¿œå„ªå…ˆåº¦
|**ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸** |å˜ä½“ãƒ†ã‚¹ãƒˆä¸è¶³ |ä¸­ |é«˜
|**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°** |ä¸€éƒ¨ä¸çµ±ä¸€ |ä½ |ä¸­
|**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ** |å®Ÿè£…è©³ç´°ä¸è¶³ |ä¸­ |é«˜
|**ãƒ¡ãƒˆãƒªã‚¯ã‚¹** |åŒ…æ‹¬çš„ç›£è¦–ä¸è¶³ |ä¸­ |ä¸­
|===

==== ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°è¨ˆç”»
1. **Phase 1**: ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸å‘ä¸Š (ç›®æ¨™: 80%)
2. **Phase 2**: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°çµ±ä¸€
3. **Phase 3**: åŒ…æ‹¬çš„ç›£è¦–å®Ÿè£…
4. **Phase 4**: ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹åˆ†å‰²æ¤œè¨

== ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

=== ğŸ“– å‚ç…§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
* **<<system-design>>**: è©³ç´°è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
* **<<rest-api-reference>>**: REST APIä»•æ§˜
* **<<detection-system>>**: AIæ¤œå‡ºã‚·ã‚¹ãƒ†ãƒ è©³ç´°
* **<<configuration-guide>>**: è¨­å®šã‚¬ã‚¤ãƒ‰

=== ğŸ”— å¤–éƒ¨å‚è€ƒè³‡æ–™
* [Flask Documentation](https://flask.palletsprojects.com/)
* [PyTorch Documentation](https://pytorch.org/docs/)
* [YOLOv8 Documentation](https://docs.ultralytics.com/)
* [MediaPipe Documentation](https://mediapipe.dev/)

---

**ğŸ“ Contact**: team@kanshichan.dev +
**ğŸ”— Repository**: https://github.com/kanshichan/backend +
**ğŸ“… Last Updated**: {docdate} +
**ğŸ“ Document Version**: {revnumber} 